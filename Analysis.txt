import logging
import yaml

class Analysis:
    def __init__(self, analysis_config):
        self.system_config = self.load_config('configs/system_config.yml')
        self.user_config = self.load_config('configs/user_config.yml')
        self.analysis_config = self.load_config(analysis_config)
        self.data = None

    def load_config(self, config_file):
        try:
            with open(config_file, 'r') as f:
                return yaml.safe_load(f)
        except FileNotFoundError:
            logging.error(f"Config file '{config_file}' not found.")
            raise

    def load_data(self):
        # Implement data retrieval from GitHub API here
        # You can use requests library or any other method

    def compute_analysis(self):
        analysis_type = self.analysis_config.get('analysis_type')
        if analysis_type == 'mean':
            # Implement mean analysis on the data here
            pass
        elif analysis_type == 'median':
            # Implement median analysis on the data here
            pass
        else:
            logging.error(f"Invalid analysis type: {analysis_type}")
            raise ValueError(f"Invalid analysis type: {analysis_type}")

        # Return the analysis output

    def plot_data(self, save_path=None):
        import matplotlib.pyplot as plt

        # Implement data plotting here
        # Use self.data for plotting

        if save_path:
            plt.savefig(save_path)
        plt.show()
